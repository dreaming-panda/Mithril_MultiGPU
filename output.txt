g000.anvil.rcac.purdue.edu
Thu Jan 26 01:44:56 2023       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 470.57.02    Driver Version: 470.57.02    CUDA Version: 11.4     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|                               |                      |               MIG M. |
|===============================+======================+======================|
|   0  NVIDIA A100-SXM...  On   | 00000000:01:00.0 Off |                    0 |
| N/A   33C    P0    53W / 400W |      0MiB / 40536MiB |      0%      Default |
|                               |                      |             Disabled |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                                  |
|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |
|        ID   ID                                                   Usage      |
|=============================================================================|
|  No running processes found                                                 |
+-----------------------------------------------------------------------------+

Currently Loaded Modules:
  1) modtree/gpu            5) mpfr/4.0.2    9) numactl/2.0.14
  2) nccl/cuda-11.2_2.8.4   6) mpc/1.1.0    10) cuda/11.4.2
  3) cudnn/cuda-11.2_8.1    7) gcc/11.2.0   11) openmpi/4.0.6
  4) gmp/6.2.1              8) zlib/1.2.11  12) boost/1.74.0

 

[  4%] Built target context
[ 18%] Built target parallel
[ 19%] Built target core
[ 40%] Built target cudahelp
[ 84%] Built target test_mpi_combined
[ 84%] Built target test_cuda_model_parallel
[ 84%] Built target test_cuda_pipeline_parallel
[ 89%] Built target test_full_structual_graph
[ 89%] Built target estimate_comm_volume
[ 84%] Built target test_mpi_gpu_hybrid
[ 89%] Built target test_nccl_mpi
[ 84%] Built target test_single_node_fullgpu_training
[ 84%] Built target test_nccl_thread
[ 84%] Built target test_mpi_gpu_model_parallel
[ 84%] Built target test_graph
[ 84%] Built target test_single_node_training
[ 84%] Built target test_trivial
[ 89%] Built target test_mpi_non_structual_graph
[ 89%] Built target test_single_node_gpu_training
[ 84%] Built target test_mpi_loader
[ 84%] Built target test_hello_world
[ 84%] Built target test_cuda
[ 89%] Built target test_mpi_pipelined_model_parallel
[ 84%] Built target test_mpi_model_parallel
[ 89%] Built target test_full_non_structual_graph
[ 84%] Built target test_cuda_graph
[ 84%] Built target test_mpi_structual_graph
[ 84%] Built target test_mpi_gpu_pipelined_model_parallel
[ 95%] Built target test_two_layer_hybrid_parallelism_designer
[ 95%] Built target OSDI2023_SINGLE_NODE_gcn_inference
[ 95%] Built target OSDI2023_MULTI_NODES_gcn
[100%] Built target OSDI2023_SINGLE_NODE_gcn
[100%] Built target OSDI2023_MULTI_NODES_gcn_graph_parallel
The graph dataset locates at /anvil/projects/x-cis220117/gnn_datasets/reordered/reddit
The number of GCN layers: 3
The number of hidden units: 128
The number of training epoches: 100
The number of startup epoches: 0
Learning rate: 0.001000
The partition strategy: hybrid
The dropout rate: 0.500
The graph dataset locates at /anvil/projects/x-cis220117/gnn_datasets/reordered/reddit
The number of GCN layers: 3
The number of hidden units: 128
The number of training epoches: 100
The number of startup epoches: 0
Learning rate: 0.001000
The partition strategy: hybrid
The dropout rate: 0.500
The graph dataset locates at /anvil/projects/x-cis220117/gnn_datasets/reordered/reddit
The number of GCN layers: 3
The number of hidden units: 128
The number of training epoches: 100
The number of startup epoches: 0
Learning rate: 0.001000
The partition strategy: hybrid
The dropout rate: 0.500
Initialized node g002.anvil.rcac.purdue.edu
Initialized node g007.anvil.rcac.purdue.edu
Initialized node g000.anvil.rcac.purdue.edu
Building the CSR structure...
Building the CSR structure...
Building the CSR structure...
        It takes 1.775 seconds.
Building the CSC structure...
        It takes 1.811 seconds.
Building the CSC structure...
        It takes 3.362 seconds.
Building the CSC structure...
        It takes 1.732 seconds.
        It takes 1.763 seconds.
Building the Feature Vector...
Building the Feature Vector...
        It takes 0.291 seconds.
Building the Label Vector...
        It takes 0.050 seconds.
        It takes 0.308 seconds.
Building the Label Vector...
        It takes 0.033 seconds.
Number of classes: 41
Number of feature dimensions: 602
Number of classes: 41
Number of feature dimensions: 602
        It takes 3.412 seconds.
train nodes 153431, valid nodes 23831, test nodes 55703
gcn_graph_parallel: /home/x-jchen5/baseline/Mithril_MultiGPU/core/src/cuda/cuda_graph_parallel.cc:43: void CUDAGraphParallelEngine::prepare_distributed_graph(): Assertion `local_end_[num_nodes - 1] == graph_structure_->get_num_global_vertices()' failed.
[g007:629217] *** Process received signal ***
[g007:629217] Signal: Aborted (6)
[g007:629217] Signal code:  (-6)
[g007:629217] [ 0] /lib64/libc.so.6(+0x37410)[0x14beed42a410]
[g007:629217] [ 1] /lib64/libc.so.6(gsignal+0x10f)[0x14beed42a38f]
[g007:629217] [ 2] /lib64/libc.so.6(abort+0x127)[0x14beed414dc5]
[g007:629217] [ 3] /lib64/libc.so.6(+0x21c99)[0x14beed414c99]
[g007:629217] [ 4] /lib64/libc.so.6(+0x2fa86)[0x14beed422a86]
[g007:629217] [ 5] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine25prepare_distributed_graphEv+0x2307)[0x459317]
[g007:629217] [ 6] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine19execute_applicationEP19AbstractApplicationi+0x35)[0x459895]
[g007:629217] [ 7] ./applications/async_multi_gpus/gcn_graph_parallel(main+0x1ae7)[0x429c77]
[g007:629217] [ 8] /lib64/libc.so.6(__libc_start_main+0xf3)[0x14beed4164a3]
[g007:629217] [ 9] ./applications/async_multi_gpus/gcn_graph_parallel(_start+0x2e)[0x42cd7e]
[g007:629217] *** End of error message ***
train nodes 153431, valid nodes 23831, test nodes 55703
gcn_graph_parallel: /home/x-jchen5/baseline/Mithril_MultiGPU/core/src/cuda/cuda_graph_parallel.cc:43: void CUDAGraphParallelEngine::prepare_distributed_graph(): Assertion `local_end_[num_nodes - 1] == graph_structure_->get_num_global_vertices()' failed.
[g002:938971] *** Process received signal ***
[g002:938971] Signal: Aborted (6)
[g002:938971] Signal code:  (-6)
[g002:938971] [ 0] /lib64/libc.so.6(+0x37410)[0x148db43e8410]
[g002:938971] [ 1] /lib64/libc.so.6(gsignal+0x10f)[0x148db43e838f]
[g002:938971] [ 2] /lib64/libc.so.6(abort+0x127)[0x148db43d2dc5]
[g002:938971] [ 3] /lib64/libc.so.6(+0x21c99)[0x148db43d2c99]
[g002:938971] [ 4] /lib64/libc.so.6(+0x2fa86)[0x148db43e0a86]
[g002:938971] [ 5] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine25prepare_distributed_graphEv+0x2307)[0x459317]
[g002:938971] [ 6] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine19execute_applicationEP19AbstractApplicationi+0x35)[0x459895]
[g002:938971] [ 7] ./applications/async_multi_gpus/gcn_graph_parallel(main+0x1ae7)[0x429c77]
[g002:938971] [ 8] /lib64/libc.so.6(__libc_start_main+0xf3)[0x148db43d44a3]
[g002:938971] [ 9] ./applications/async_multi_gpus/gcn_graph_parallel(_start+0x2e)[0x42cd7e]
[g002:938971] *** End of error message ***
Building the Feature Vector...
        It takes 0.292 seconds.
Building the Label Vector...
        It takes 0.027 seconds.
Number of classes: 41
Number of feature dimensions: 602
train nodes 153431, valid nodes 23831, test nodes 55703
gcn_graph_parallel: /home/x-jchen5/baseline/Mithril_MultiGPU/core/src/cuda/cuda_graph_parallel.cc:43: void CUDAGraphParallelEngine::prepare_distributed_graph(): Assertion `local_end_[num_nodes - 1] == graph_structure_->get_num_global_vertices()' failed.
[g000:4067354] *** Process received signal ***
[g000:4067354] Signal: Aborted (6)
[g000:4067354] Signal code:  (-6)
[g000:4067354] [ 0] /lib64/libc.so.6(+0x37410)[0x14cd65fbf410]
[g000:4067354] [ 1] /lib64/libc.so.6(gsignal+0x10f)[0x14cd65fbf38f]
[g000:4067354] [ 2] /lib64/libc.so.6(abort+0x127)[0x14cd65fa9dc5]
[g000:4067354] [ 3] /lib64/libc.so.6(+0x21c99)[0x14cd65fa9c99]
[g000:4067354] [ 4] /lib64/libc.so.6(+0x2fa86)[0x14cd65fb7a86]
[g000:4067354] [ 5] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine25prepare_distributed_graphEv+0x2307)[0x459317]
[g000:4067354] [ 6] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine19execute_applicationEP19AbstractApplicationi+0x35)[0x459895]
[g000:4067354] [ 7] ./applications/async_multi_gpus/gcn_graph_parallel(main+0x1ae7)[0x429c77]
[g000:4067354] [ 8] /lib64/libc.so.6(__libc_start_main+0xf3)[0x14cd65fab4a3]
[g000:4067354] [ 9] ./applications/async_multi_gpus/gcn_graph_parallel(_start+0x2e)[0x42cd7e]
[g000:4067354] *** End of error message ***
--------------------------------------------------------------------------
Primary job  terminated normally, but 1 process returned
a non-zero exit code. Per user-direction, the job has been aborted.
--------------------------------------------------------------------------
--------------------------------------------------------------------------
mpirun noticed that process rank 2 with PID 629217 on node g007 exited on signal 6 (Aborted).
--------------------------------------------------------------------------
2 total processes killed (some possibly by mpirun during cleanup)
The graph dataset locates at /anvil/projects/x-cis220117/gnn_datasets/reordered/reddit
The number of GCN layers: 3
The number of hidden units: 128
The number of training epoches: 0
Learning rate: 0.000000
Initialized node g000.anvil.rcac.purdue.edu
Building the CSR structure...
        It takes 1.735 seconds.
Building the CSC structure...
        It takes 1.700 seconds.
Building the Feature Vector...
        It takes 0.292 seconds.
Building the Label Vector...
        It takes 0.027 seconds.
Number of classes: 41
Number of feature dimensions: 602
Dropout: 0.000 
train nodes 153431, valid nodes 23831, test nodes 55703
*** Allocating resources for all tensors...
    OP_TYPE: OPERATOR_INPUT
    OP_TYPE: OPERATOR_WEIGHT
    OP_TYPE: OPERATOR_MATMUL
    OP_TYPE: OPERATOR_AGGREGATION
    OP_TYPE: OPERATOR_RELU
    OP_TYPE: OPERATOR_DROPOUT
    OP_TYPE: OPERATOR_WEIGHT
    OP_TYPE: OPERATOR_MATMUL
    OP_TYPE: OPERATOR_AGGREGATION
    OP_TYPE: OPERATOR_RELU
    OP_TYPE: OPERATOR_DROPOUT
    OP_TYPE: OPERATOR_WEIGHT
    OP_TYPE: OPERATOR_MATMUL
    OP_TYPE: OPERATOR_AGGREGATION
    OP_TYPE: OPERATOR_SOFTMAX
*** Done allocating resource.
*** Preparing the input tensor...
*** Done preparing the input tensor.
*** Preparing the STD tensor...
    Number of labels: 41
    Number of vertices: 232965
*** Done preparing the STD tensor.
Version 0	TrainAcc 0.5708	ValidAcc 0.6059	TestAcc 0.5997
Version 1	TrainAcc 0.6704	ValidAcc 0.6972	TestAcc 0.6911
Version 2	TrainAcc 0.8262	ValidAcc 0.8435	TestAcc 0.8388
Version 3	TrainAcc 0.8713	ValidAcc 0.8859	TestAcc 0.8816
Version 4	TrainAcc 0.9012	ValidAcc 0.9121	TestAcc 0.9103
Version 5	TrainAcc 0.9096	ValidAcc 0.9197	TestAcc 0.9182
Version 6	TrainAcc 0.9137	ValidAcc 0.9236	TestAcc 0.9218
Version 7	TrainAcc 0.9162	ValidAcc 0.9252	TestAcc 0.9240
Version 8	TrainAcc 0.9187	ValidAcc 0.9267	TestAcc 0.9257
Version 9	TrainAcc 0.9206	ValidAcc 0.9280	TestAcc 0.9276
Version 9 achieved the highest validation accuracy 0.9280 (test accuracy: 0.9276)
