g010.anvil.rcac.purdue.edu
Wed Jan 25 14:55:51 2023       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 470.57.02    Driver Version: 470.57.02    CUDA Version: 11.4     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|                               |                      |               MIG M. |
|===============================+======================+======================|
|   0  NVIDIA A100-SXM...  On   | 00000000:01:00.0 Off |                    0 |
| N/A   29C    P0    52W / 400W |      0MiB / 40536MiB |      0%      Default |
|                               |                      |             Disabled |
+-------------------------------+----------------------+----------------------+
|   1  NVIDIA A100-SXM...  On   | 00000000:41:00.0 Off |                    0 |
| N/A   28C    P0    52W / 400W |      0MiB / 40536MiB |      0%      Default |
|                               |                      |             Disabled |
+-------------------------------+----------------------+----------------------+
|   2  NVIDIA A100-SXM...  On   | 00000000:81:00.0 Off |                    0 |
| N/A   30C    P0    50W / 400W |      0MiB / 40536MiB |      0%      Default |
|                               |                      |             Disabled |
+-------------------------------+----------------------+----------------------+
|   3  NVIDIA A100-SXM...  On   | 00000000:C1:00.0 Off |                    0 |
| N/A   27C    P0    48W / 400W |      0MiB / 40536MiB |      0%      Default |
|                               |                      |             Disabled |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                                  |
|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |
|        ID   ID                                                   Usage      |
|=============================================================================|
|  No running processes found                                                 |
+-----------------------------------------------------------------------------+

Currently Loaded Modules:
  1) modtree/gpu            5) mpfr/4.0.2    9) numactl/2.0.14
  2) nccl/cuda-11.2_2.8.4   6) mpc/1.1.0    10) cuda/11.4.2
  3) cudnn/cuda-11.2_8.1    7) gcc/11.2.0   11) openmpi/4.0.6
  4) gmp/6.2.1              8) zlib/1.2.11  12) boost/1.74.0

 

[  4%] Built target context
[ 14%] Built target parallel
[ 19%] Built target core
[ 40%] Built target cudahelp
[ 64%] Built target test_cuda_graph
[ 72%] Built target test_single_node_fullgpu_training
[ 72%] Built target test_single_node_training
[ 72%] Built target test_mpi_gpu_hybrid
[ 72%] Built target test_hello_world
[ 72%] Built target test_cuda
[ 74%] Built target test_mpi_structual_graph
[ 89%] Built target test_mpi_non_structual_graph
[ 89%] Built target test_nccl_mpi
[ 89%] Built target test_trivial
[ 89%] Built target test_single_node_gpu_training
[ 88%] Built target test_mpi_model_parallel
[ 89%] Built target test_full_non_structual_graph
[ 89%] Built target test_mpi_gpu_pipelined_model_parallel
[ 89%] Built target test_mpi_gpu_model_parallel
[ 89%] Built target estimate_comm_volume
[ 89%] Built target test_mpi_loader
[ 86%] Built target test_cuda_pipeline_parallel
[ 89%] Built target test_cuda_model_parallel
[ 89%] Built target test_mpi_pipelined_model_parallel
[ 89%] Built target test_graph
[ 89%] Built target test_full_structual_graph
[ 89%] Built target test_nccl_thread
[ 89%] Built target test_mpi_combined
[ 96%] Built target OSDI2023_MULTI_NODES_gcn
[ 98%] Built target OSDI2023_SINGLE_NODE_gcn_inference
[100%] Built target OSDI2023_MULTI_NODES_gcn_graph_parallel
[100%] Built target test_two_layer_hybrid_parallelism_designer
[100%] Built target OSDI2023_SINGLE_NODE_gcn
The graph dataset locates at /anvil/projects/x-cis220117/gnn_datasets/reordered/ogbn_products
The number of GCN layers: 4
The number of hidden units: 128
The number of training epoches: 100
The number of startup epoches: 0
Learning rate: 0.001000
The partition strategy: hybrid
The dropout rate: 0.500
The graph dataset locates at /anvil/projects/x-cis220117/gnn_datasets/reordered/ogbn_products
The number of GCN layers: 4
The number of hidden units: 128
The number of training epoches: 100
The number of startup epoches: 0
Learning rate: 0.001000
The partition strategy: hybrid
The dropout rate: 0.500
The graph dataset locates at /anvil/projects/x-cis220117/gnn_datasets/reordered/ogbn_products
The number of GCN layers: 4
The number of hidden units: 128
The number of training epoches: 100
The number of startup epoches: 0
Learning rate: 0.001000
The partition strategy: hybrid
The dropout rate: 0.500
The graph dataset locates at /anvil/projects/x-cis220117/gnn_datasets/reordered/ogbn_products
The number of GCN layers: 4
The number of hidden units: 128
The number of training epoches: 100
The number of startup epoches: 0
Learning rate: 0.001000
The partition strategy: hybrid
The dropout rate: 0.500
Initialized node g010.anvil.rcac.purdue.edu
Initialized node g010.anvil.rcac.purdue.edu
Initialized node g010.anvil.rcac.purdue.edu
Initialized node g010.anvil.rcac.purdue.edu
Building the CSR structure...
Building the CSR structure...
Building the CSR structure...
Building the CSR structure...
        It takes 2.108 seconds.
Building the CSC structure...
        It takes 2.263 seconds.
Building the CSC structure...
        It takes 2.278 seconds.
Building the CSC structure...
        It takes 2.281 seconds.
Building the CSC structure...
        It takes 1.973 seconds.
        It takes 2.031 seconds.
        It takes 2.083 seconds.
        It takes 2.100 seconds.
Building the Feature Vector...
Building the Feature Vector...
Building the Feature Vector...
Building the Feature Vector...
        It takes 0.772 seconds.
Building the Label Vector...
        It takes 0.805 seconds.
Building the Label Vector...
        It takes 0.805 seconds.
Building the Label Vector...
        It takes 0.827 seconds.
Building the Label Vector...
        It takes 0.560 seconds.
        It takes 0.963 seconds.
        It takes 0.734 seconds.
        It takes 0.673 seconds.
Number of classes: 47
Number of feature dimensions: 100
Number of classes: 47
Number of feature dimensions: 100
Number of classes: 47
Number of feature dimensions: 100
Number of classes: 47
Number of feature dimensions: 100
train nodes 196615, valid nodes 39323, test nodes 2213091
gcn_graph_parallel: /home/x-jchen5/baseline/Mithril_MultiGPU/core/src/cuda/cuda_graph_parallel.cc:43: void CUDAGraphParallelEngine::prepare_distributed_graph(): Assertion `local_end_[num_nodes - 1] == graph_structure_->get_num_global_vertices()' failed.
[g010:1544715] *** Process received signal ***
[g010:1544715] Signal: Aborted (6)
[g010:1544715] Signal code:  (-6)
[g010:1544715] [ 0] /lib64/libc.so.6(+0x37410)[0x14a3c8041410]
[g010:1544715] [ 1] /lib64/libc.so.6(gsignal+0x10f)[0x14a3c804138f]
[g010:1544715] [ 2] /lib64/libc.so.6(abort+0x127)[0x14a3c802bdc5]
[g010:1544715] [ 3] /lib64/libc.so.6(+0x21c99)[0x14a3c802bc99]
[g010:1544715] [ 4] /lib64/libc.so.6(+0x2fa86)[0x14a3c8039a86]
[g010:1544715] [ 5] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine25prepare_distributed_graphEv+0x2307)[0x459317]
[g010:1544715] [ 6] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine19execute_applicationEP19AbstractApplicationi+0x35)[0x459895]
[g010:1544715] [ 7] ./applications/async_multi_gpus/gcn_graph_parallel(main+0x1ae7)[0x429c77]
[g010:1544715] [ 8] /lib64/libc.so.6(__libc_start_main+0xf3)[0x14a3c802d4a3]
[g010:1544715] [ 9] ./applications/async_multi_gpus/gcn_graph_parallel(_start+0x2e)[0x42cd7e]
[g010:1544715] *** End of error message ***
train nodes 196615, valid nodes 39323, test nodes 2213091
gcn_graph_parallel: /home/x-jchen5/baseline/Mithril_MultiGPU/core/src/cuda/cuda_graph_parallel.cc:43: void CUDAGraphParallelEngine::prepare_distributed_graph(): Assertion `local_end_[num_nodes - 1] == graph_structure_->get_num_global_vertices()' failed.
[g010:1544716] *** Process received signal ***
[g010:1544716] Signal: Aborted (6)
[g010:1544716] Signal code:  (-6)
train nodes 196615, valid nodes 39323, test nodes 2213091
[g010:1544716] [ 0] /lib64/libc.so.6(+0x37410)[0x147bc5638410]
[g010:1544716] [ 1] /lib64/libc.so.6(gsignal+0x10f)[0x147bc563838f]
[g010:1544716] [ 2] /lib64/libc.so.6(abort+0x127)[0x147bc5622dc5]
[g010:1544716] [ 3] /lib64/libc.so.6(+0x21c99)[0x147bc5622c99]
[g010:1544716] [ 4] /lib64/libc.so.6(+0x2fa86)[0x147bc5630a86]
[g010:1544716] [ 5] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine25prepare_distributed_graphEv+0x2307)[0x459317]
[g010:1544716] [ 6] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine19execute_applicationEP19AbstractApplicationi+0x35)[0x459895]
[g010:1544716] [ 7] ./applications/async_multi_gpus/gcn_graph_parallel(main+0x1ae7)[0x429c77]
[g010:1544716] [ 8] /lib64/libc.so.6(__libc_start_main+0xf3)[0x147bc56244a3]
[g010:1544716] [ 9] ./applications/async_multi_gpus/gcn_graph_parallel(_start+0x2e)[0x42cd7e]
[g010:1544716] *** End of error message ***
gcn_graph_parallel: /home/x-jchen5/baseline/Mithril_MultiGPU/core/src/cuda/cuda_graph_parallel.cc:43: void CUDAGraphParallelEngine::prepare_distributed_graph(): Assertion `local_end_[num_nodes - 1] == graph_structure_->get_num_global_vertices()' failed.
[g010:1544718] *** Process received signal ***
[g010:1544718] Signal: Aborted (6)
[g010:1544718] Signal code:  (-6)
[g010:1544718] [ 0] /lib64/libc.so.6(+0x37410)[0x153b2cd7a410]
[g010:1544718] [ 1] /lib64/libc.so.6(gsignal+0x10f)[0x153b2cd7a38f]
[g010:1544718] [ 2] /lib64/libc.so.6(abort+0x127)[0x153b2cd64dc5]
[g010:1544718] [ 3] /lib64/libc.so.6(+0x21c99)[0x153b2cd64c99]
[g010:1544718] [ 4] /lib64/libc.so.6(+0x2fa86)[0x153b2cd72a86]
[g010:1544718] [ 5] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine25prepare_distributed_graphEv+0x2307)[0x459317]
[g010:1544718] [ 6] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine19execute_applicationEP19AbstractApplicationi+0x35)[0x459895]
[g010:1544718] [ 7] ./applications/async_multi_gpus/gcn_graph_parallel(main+0x1ae7)[0x429c77]
[g010:1544718] [ 8] /lib64/libc.so.6(__libc_start_main+0xf3)[0x153b2cd664a3]
[g010:1544718] [ 9] ./applications/async_multi_gpus/gcn_graph_parallel(_start+0x2e)[0x42cd7e]
[g010:1544718] *** End of error message ***
train nodes 196615, valid nodes 39323, test nodes 2213091
gcn_graph_parallel: /home/x-jchen5/baseline/Mithril_MultiGPU/core/src/cuda/cuda_graph_parallel.cc:43: void CUDAGraphParallelEngine::prepare_distributed_graph(): Assertion `local_end_[num_nodes - 1] == graph_structure_->get_num_global_vertices()' failed.
[g010:1544717] *** Process received signal ***
[g010:1544717] Signal: Aborted (6)
[g010:1544717] Signal code:  (-6)
[g010:1544717] [ 0] /lib64/libc.so.6(+0x37410)[0x1553c57b3410]
[g010:1544717] [ 1] /lib64/libc.so.6(gsignal+0x10f)[0x1553c57b338f]
[g010:1544717] [ 2] /lib64/libc.so.6(abort+0x127)[0x1553c579ddc5]
[g010:1544717] [ 3] /lib64/libc.so.6(+0x21c99)[0x1553c579dc99]
[g010:1544717] [ 4] /lib64/libc.so.6(+0x2fa86)[0x1553c57aba86]
[g010:1544717] [ 5] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine25prepare_distributed_graphEv+0x2307)[0x459317]
[g010:1544717] [ 6] ./applications/async_multi_gpus/gcn_graph_parallel(_ZN23CUDAGraphParallelEngine19execute_applicationEP19AbstractApplicationi+0x35)[0x459895]
[g010:1544717] [ 7] ./applications/async_multi_gpus/gcn_graph_parallel(main+0x1ae7)[0x429c77]
[g010:1544717] [ 8] /lib64/libc.so.6(__libc_start_main+0xf3)[0x1553c579f4a3]
[g010:1544717] [ 9] ./applications/async_multi_gpus/gcn_graph_parallel(_start+0x2e)[0x42cd7e]
[g010:1544717] *** End of error message ***
--------------------------------------------------------------------------
Primary job  terminated normally, but 1 process returned
a non-zero exit code. Per user-direction, the job has been aborted.
--------------------------------------------------------------------------
--------------------------------------------------------------------------
mpirun noticed that process rank 2 with PID 1544717 on node g010 exited on signal 6 (Aborted).
--------------------------------------------------------------------------
The graph dataset locates at /anvil/projects/x-cis220117/gnn_datasets/reordered/ogbn_products
The number of GCN layers: 4
The number of hidden units: 128
The number of training epoches: 0
Learning rate: 0.000000
Initialized node g010.anvil.rcac.purdue.edu
Building the CSR structure...
        It takes 1.972 seconds.
Building the CSC structure...
        It takes 1.931 seconds.
Building the Feature Vector...
        It takes 0.621 seconds.
Building the Label Vector...
        It takes 0.364 seconds.
Number of classes: 47
Number of feature dimensions: 100
Dropout: 0.000 
train nodes 196615, valid nodes 39323, test nodes 2213091
*** Allocating resources for all tensors...
    OP_TYPE: OPERATOR_INPUT
    OP_TYPE: OPERATOR_WEIGHT
    OP_TYPE: OPERATOR_MATMUL
    OP_TYPE: OPERATOR_AGGREGATION
    OP_TYPE: OPERATOR_RELU
    OP_TYPE: OPERATOR_DROPOUT
    OP_TYPE: OPERATOR_WEIGHT
    OP_TYPE: OPERATOR_MATMUL
    OP_TYPE: OPERATOR_AGGREGATION
    OP_TYPE: OPERATOR_RELU
    OP_TYPE: OPERATOR_DROPOUT
    OP_TYPE: OPERATOR_WEIGHT
    OP_TYPE: OPERATOR_MATMUL
    OP_TYPE: OPERATOR_AGGREGATION
    OP_TYPE: OPERATOR_RELU
    OP_TYPE: OPERATOR_DROPOUT
    OP_TYPE: OPERATOR_WEIGHT
    OP_TYPE: OPERATOR_MATMUL
    OP_TYPE: OPERATOR_AGGREGATION
    OP_TYPE: OPERATOR_SOFTMAX
*** Done allocating resource.
*** Preparing the input tensor...
*** Done preparing the input tensor.
*** Preparing the STD tensor...
    Number of labels: 47
    Number of vertices: 2449029
*** Done preparing the STD tensor.
Version 0	TrainAcc 0.3084	ValidAcc 0.3084	TestAcc 0.2693
Version 1	TrainAcc 0.6293	ValidAcc 0.6354	TestAcc 0.5045
Version 2	TrainAcc 0.7843	ValidAcc 0.7807	TestAcc 0.6165
Version 3	TrainAcc 0.8290	ValidAcc 0.8268	TestAcc 0.6625
Version 4	TrainAcc 0.8461	ValidAcc 0.8429	TestAcc 0.6838
Version 5	TrainAcc 0.8571	ValidAcc 0.8544	TestAcc 0.6954
Version 6	TrainAcc 0.8648	ValidAcc 0.8613	TestAcc 0.7014
Version 7	TrainAcc 0.8724	ValidAcc 0.8678	TestAcc 0.7073
Version 8	TrainAcc 0.8765	ValidAcc 0.8716	TestAcc 0.7109
Version 9	TrainAcc 0.8804	ValidAcc 0.8749	TestAcc 0.7150
Version 9 achieved the highest validation accuracy 0.8749 (test accuracy: 0.7150)
